import json
# dev data some other hyperparam configuration (not sure what)
#wrong_docs = [['NYT_ENG_20091017.0086', 'NYT_ENG_20091017.0086', 'CNA_ENG_20090730.0012', 'CNA_ENG_20090730.0012', 'CNA_ENG_20090730.0012', 'NYT_ENG_20091221.0086', 'NYT_ENG_20091221.0086', 'NYT_ENG_20091221.0086', 'NYT_ENG_20091221.0086', 'NYT_ENG_20091221.0086', 'NYT_ENG_20091221.0086', 'CNA_ENG_20100912.0007', 'NYT_ENG_20091019.0171', 'NYT_ENG_20091019.0171', 'NYT_ENG_20091019.0171', 'NYT_ENG_20091019.0171', 'NYT_ENG_20091019.0171', 'AFP_ENG_20091022.0215', 'AFP_ENG_20091022.0215', 'APW_ENG_20100612.0768', 'APW_ENG_20100612.0768', 'APW_ENG_20100612.0768', 'AFP_ENG_20100624.0127', 'AFP_ENG_20100624.0127', 'AFP_ENG_20100624.0127', 'NYT_ENG_20100830.0161', 'NYT_ENG_20101105.0102', 'APW_ENG_20100414.0121', 'XIN_ENG_20100227.0088', 'XIN_ENG_20100227.0088', 'XIN_ENG_20100227.0088', 'XIN_ENG_20100227.0088', 'XIN_ENG_20100227.0088', 'AFP_ENG_20091102.0335', 'NYT_ENG_20100202.0102', 'NYT_ENG_20100202.0102', 'AFP_ENG_20100322.0024', 'AFP_ENG_20100322.0024', 'AFP_ENG_20100322.0024', 'APW_ENG_20090805.0854', 'NYT_ENG_20100624.0049', 'NYT_ENG_20100624.0049', 'NYT_ENG_20100314.0130', 'NYT_ENG_20100314.0130', 'APW_ENG_20090804.0021', 'AFP_ENG_20101127.0312', 'APW_ENG_20101104.0351', 'APW_ENG_20101104.0351', 'APW_ENG_20101104.0351', 'AFP_ENG_20090911.0694', 'AFP_ENG_20090911.0694', 'AFP_ENG_20090911.0694', 'AFP_ENG_20090911.0694', 'APW_ENG_20090914.0806', 'APW_ENG_20090914.0806', 'APW_ENG_20090914.0806', 'APW_ENG_20090914.0806', 'APW_ENG_20101117.0994', 'NYT_ENG_20090830.0055', 'NYT_ENG_20101024.0152', 'AFP_ENG_20090705.0009', 'WPB_ENG_20100812.0004', 'WPB_ENG_20100812.0004', 'APW_ENG_20100528.0979', 'AFP_ENG_20100128.0429', 'AFP_ENG_20100315.0298', 'APW_ENG_20100123.0461', 'APW_ENG_20100123.0461', 'APW_ENG_20100123.0461', 'APW_ENG_20100521.0662', 'NYT_ENG_20100216.0080', 'NYT_ENG_20100216.0080', 'NYT_ENG_20100216.0080', 'NYT_ENG_20100216.0080', 'NYT_ENG_20100216.0080', 'APW_ENG_20101021.0776', 'APW_ENG_20101021.0776', 'APW_ENG_20101021.0776', 'APW_ENG_20101021.0776', 'APW_ENG_20090620.0405', 'NYT_ENG_20100121.0191', 'NYT_ENG_20100121.0191', 'XIN_ENG_20101213.0128', 'XIN_ENG_20101213.0128', 'XIN_ENG_20101213.0128', 'XIN_ENG_20101213.0128', 'APW_ENG_20100517.0518', 'APW_ENG_20091229.0404', 'APW_ENG_20101111.0052', 'APW_ENG_20101124.0510', 'APW_ENG_20100119.1093', 'APW_ENG_20090531.0209', 'APW_ENG_20100203.0881', 'APW_ENG_20100119.0928', 'APW_ENG_20100119.0928', 'APW_ENG_20100119.0928', 'APW_ENG_20090707.1069'], [2, 2, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 2, 2, 2, 0, 0, 0, 2, 2, 2, 2, 2, 0, 0, 0, 2, 2, 0, 0, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 0, 0, 0, 0, 2, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 2, 0, 0, 0, 0, 2, 2, 0, 0, 0, 0, 2, 0, 0, 0, 2], [1, 0, 1, 1, 1, 1, 2, 1, 1, 2, 1, 2, 1, 1, 0, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 2, 0, 0, 1, 0, 0, 1, 1, 2, 0, 0, 0, 0, 0, 2, 1, 1, 0, 1, 1, 2, 0, 1, 1, 1, 1, 2, 1, 2, 1, 1, 1, 1, 0, 1, 2, 2, 2, 2, 0, 2, 2, 1, 2, 0, 1, 2, 1, 2, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 0, 0, 1, 2, 1, 1, 0, 2, 2, 2, 0]]
# dev data default configuration
wrong_docs = [['NYT_ENG_20091017.0086', 'NYT_ENG_20091017.0086', 'CNA_ENG_20090730.0012', 'CNA_ENG_20090730.0012', 'CNA_ENG_20090730.0012', 'NYT_ENG_20091221.0086', 'NYT_ENG_20091221.0086', 'NYT_ENG_20091221.0086', 'CNA_ENG_20091217.0036', 'CNA_ENG_20100912.0007', 'NYT_ENG_20091019.0171', 'NYT_ENG_20091019.0171', 'NYT_ENG_20091019.0171', 'NYT_ENG_20091019.0171', 'AFP_ENG_20091022.0215', 'AFP_ENG_20091022.0215', 'APW_ENG_20100612.0768', 'APW_ENG_20100612.0768', 'APW_ENG_20100612.0768', 'AFP_ENG_20090609.0525', 'AFP_ENG_20100624.0127', 'AFP_ENG_20100624.0127', 'AFP_ENG_20100624.0127', 'NYT_ENG_20100830.0161', 'XIN_ENG_20100227.0088', 'XIN_ENG_20100227.0088', 'XIN_ENG_20100227.0088', 'AFP_ENG_20091102.0335', 'NYT_ENG_20100202.0102', 'NYT_ENG_20100202.0102', 'AFP_ENG_20100322.0024', 'AFP_ENG_20100322.0024', 'APW_ENG_20090805.0854', 'NYT_ENG_20101028.0209', 'NYT_ENG_20100624.0049', 'NYT_ENG_20100624.0049', 'NYT_ENG_20100314.0130', 'APW_ENG_20090804.0021', 'APW_ENG_20101104.0351', 'APW_ENG_20101104.0351', 'APW_ENG_20101104.0351', 'AFP_ENG_20090911.0694', 'AFP_ENG_20090911.0694', 'AFP_ENG_20090911.0694', 'AFP_ENG_20090911.0694', 'APW_ENG_20090914.0806', 'APW_ENG_20090914.0806', 'APW_ENG_20090914.0806', 'APW_ENG_20090914.0806', 'APW_ENG_20101117.0994', 'NYT_ENG_20090830.0055', 'NYT_ENG_20101024.0152', 'AFP_ENG_20090705.0009', 'APW_ENG_20091210.0192', 'APW_ENG_20100528.0979', 'AFP_ENG_20100128.0429', 'AFP_ENG_20100315.0298', 'APW_ENG_20100123.0461', 'NYT_ENG_20100216.0080', 'NYT_ENG_20100216.0080', 'NYT_ENG_20100216.0080', 'NYT_ENG_20100216.0080', 'NYT_ENG_20100216.0080', 'APW_ENG_20101021.0776', 'APW_ENG_20101021.0776', 'APW_ENG_20101021.0776', 'APW_ENG_20101021.0776', 'NYT_ENG_20100121.0191', 'NYT_ENG_20100121.0191', 'XIN_ENG_20101213.0128', 'XIN_ENG_20101213.0128', 'XIN_ENG_20101213.0128', 'XIN_ENG_20101213.0128', 'APW_ENG_20100517.0518', 'APW_ENG_20091229.0404', 'APW_ENG_20101111.0052', 'APW_ENG_20101111.0052', 'APW_ENG_20101124.0510', 'XIN_ENG_20100228.0123', 'APW_ENG_20100119.1093', 'APW_ENG_20100119.1093', 'APW_ENG_20090531.0209', 'APW_ENG_20100124.0747', 'APW_ENG_20100915.0782', 'APW_ENG_20100119.0928', 'APW_ENG_20100119.0928', 'APW_ENG_20100119.0928', 'APW_ENG_20090707.1069'], [0, 1, 2, 2, 2, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 2, 2, 1, 1, 0, 2, 0, 0, 0, 0, 1, 1, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 2, 2, 1, 0, 0, 2, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 0, 0, 0, 0, 2, 1, 0, 0, 0, 1, 1, 0, 0, 0, 1, 0, 0, 0, 2], [1, 0, 1, 1, 1, 0, 2, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 2, 2, 1, 1, 1, 2, 0, 0, 0, 0, 2, 0, 1, 1, 1, 1, 0, 2, 2, 1, 1, 2, 1, 2, 1, 1, 1, 1, 0, 1, 2, 2, 2, 0, 2, 1, 1, 2, 1, 2, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 0, 0, 2, 1, 2, 0, 0, 1, 1, 2, 0, 2, 2, 2, 0]]
# training data:
#wrong_docs = [['APW_ENG_20091222.0589', 'NYT_ENG_20100407.0145', 'NYT_ENG_20090604.0129', 'AFP_ENG_20090802.0375', 'XIN_ENG_20100712.0184', 'APW_ENG_20101116.0054', 'WPB_ENG_20100921.0090', 'AFP_ENG_20091106.0327', 'APW_ENG_20100302.0268', 'APW_ENG_20091027.0505', 'AFP_ENG_20100106.0429', 'NYT_ENG_20100818.0177', 'AFP_ENG_20100107.0023', 'APW_ENG_20100401.1013', 'WPB_ENG_20100808.0010', 'NYT_ENG_20091006.0207', 'NYT_ENG_20101029.0016', 'NYT_ENG_20100721.0155', 'APW_ENG_20090914.1051', 'APW_ENG_20101018.0522', 'NYT_ENG_20090709.0019', 'APW_ENG_20100929.0022', 'APW_ENG_20100312.0407', 'AFP_ENG_20100511.0779', 'NYT_ENG_20091215.0102', 'APW_ENG_20091029.0783', 'APW_ENG_20100117.0237', 'NYT_ENG_20100813.0008', 'AFP_ENG_20100511.0779', 'APW_ENG_20090612.1160', 'APW_ENG_20101124.0955', 'AFP_ENG_20100416.0129', 'NYT_ENG_20090706.0129', 'AFP_ENG_20100330.0258', 'AFP_ENG_20091209.0517', 'NYT_ENG_20090622.0008', 'XIN_ENG_20100923.0243', 'APW_ENG_20100117.0237', 'APW_ENG_20101122.0665', 'APW_ENG_20100505.0845', 'APW_ENG_20091122.0267', 'APW_ENG_20091104.1315', 'APW_ENG_20091130.0454', 'NYT_ENG_20100331.0089', 'APW_ENG_20090616.0393', 'APW_ENG_20100719.0881', 'AFP_ENG_20100624.0793', 'NYT_ENG_20090630.0098', 'WPB_ENG_20100508.0010', 'LTW_ENG_20091004.0012', 'APW_ENG_20100124.0278', 'APW_ENG_20100324.1030', 'AFP_ENG_20100330.0258', 'XIN_ENG_20101011.0153', 'APW_ENG_20100719.0572', 'APW_ENG_20100327.0061', 'APW_ENG_20100413.0698', 'WPB_ENG_20101223.0009', 'NYT_ENG_20090604.0129', 'APW_ENG_20090804.0524', 'WPB_ENG_20100303.0021', 'APW_ENG_20100620.0264', 'AFP_ENG_20100413.0569', 'NYT_ENG_20100115.0016', 'NYT_ENG_20090606.0124', 'WPB_ENG_20101109.0048', 'NYT_ENG_20100616.0022', 'NYT_ENG_20091120.0197', 'APW_ENG_20100123.0182', 'APW_ENG_20100924.0043', 'NYT_ENG_20100616.0022', 'APW_ENG_20101207.0762', 'APW_ENG_20090707.0677', 'NYT_ENG_20100825.0036', 'NYT_ENG_20101007.0050', 'AFP_ENG_20091023.0443', 'WPB_ENG_20100303.0021', 'XIN_ENG_20100302.0322', 'XIN_ENG_20090619.0197', 'NYT_ENG_20101111.0112', 'AFP_ENG_20090623.0161', 'NYT_ENG_20100801.0118', 'NYT_ENG_20100701.0190', 'XIN_ENG_20090619.0197', 'APW_ENG_20100803.0402', 'NYT_ENG_20101011.0102', 'APW_ENG_20100722.1393', 'APW_ENG_20090918.0836', 'NYT_ENG_20100809.0175', 'APW_ENG_20101129.0666', 'NYT_ENG_20100722.0101', 'APW_ENG_20101024.0586', 'NYT_ENG_20101029.0016', 'AFP_ENG_20100810.0378', 'NYT_ENG_20101218.0106', 'NYT_ENG_20100314.0014', 'NYT_ENG_20101129.0124', 'NYT_ENG_20100804.0092', 'NYT_ENG_20100731.0054', 'APW_ENG_20100521.0493', 'AFP_ENG_20091023.0443', 'AFP_ENG_20100517.0432', 'APW_ENG_20100505.0784', 'APW_ENG_20090605.0274', 'NYT_ENG_20090604.0129', 'APW_ENG_20100117.0237', 'APW_ENG_20101122.0665', 'XIN_ENG_20100518.0408', 'AFP_ENG_20100106.0429', 'NYT_ENG_20090914.0022', 'APW_ENG_20100117.0407', 'APW_ENG_20100629.1351', 'XIN_ENG_20100502.0201', 'NYT_ENG_20100616.0022', 'APW_ENG_20100724.0429', 'NYT_ENG_20100314.0014', 'NYT_ENG_20090719.0097', 'AFP_ENG_20101017.0199', 'AFP_ENG_20090716.0651', 'APW_ENG_20101020.0390', 'APW_ENG_20100803.0402', 'AFP_ENG_20100204.0585', 'AFP_ENG_20090802.0375', 'APW_ENG_20091218.0336', 'AFP_ENG_20090623.0161', 'WPB_ENG_20101202.0037', 'APW_ENG_20100908.0804', 'APW_ENG_20091223.0094', 'APW_ENG_20100803.0402', 'APW_ENG_20100115.0532', 'LTW_ENG_20091015.0009', 'AFP_ENG_20100127.0228', 'AFP_ENG_20100204.0585', 'NYT_ENG_20100505.0288', 'AFP_ENG_20100529.0157', 'APW_ENG_20090707.0677', 'APW_ENG_20090622.0883', 'AFP_ENG_20091116.0525', 'APW_ENG_20101214.0196', 'XIN_ENG_20100420.0311', 'AFP_ENG_20091023.0443', 'APW_ENG_20090610.0180', 'LTW_ENG_20091210.0091', 'APW_ENG_20100312.0407', 'NYT_ENG_20100707.0117', 'AFP_ENG_20101209.0587', 'APW_ENG_20090612.1160', 'AFP_ENG_20100317.0125', 'LTW_ENG_20090715.0084', 'APW_ENG_20090821.0990', 'NYT_ENG_20101019.0147', 'APW_ENG_20101122.0665', 'AFP_ENG_20091023.0443', 'AFP_ENG_20091023.0443', 'AFP_ENG_20100107.0023', 'AFP_ENG_20101209.0587', 'APW_ENG_20100129.1170', 'APW_ENG_20090603.0781', 'AFP_ENG_20091023.0443', 'AFP_ENG_20100416.0129', 'APW_ENG_20100115.0532', 'AFP_ENG_20090720.0139', 'AFP_ENG_20091209.0517', 'AFP_ENG_20091119.0217', 'CNA_ENG_20100608.0044', 'AFP_ENG_20100925.0177', 'APW_ENG_20101214.0196', 'WPB_ENG_20100513.0079', 'AFP_ENG_20100204.0585', 'NYT_ENG_20100501.0057', 'XIN_ENG_20100415.0292', 'APW_ENG_20101129.0666', 'APW_ENG_20100304.0712', 'APW_ENG_20100405.0147', 'NYT_ENG_20090812.0024', 'APW_ENG_20100413.0698', 'AFP_ENG_20090720.0139', 'NYT_ENG_20100325.0143', 'APW_ENG_20100906.0501', 'AFP_ENG_20090823.0374', 'APW_ENG_20091122.0267', 'CNA_ENG_20100130.0003', 'NYT_ENG_20101007.0050', 'XIN_ENG_20090825.0188', 'APW_ENG_20100830.0062', 'NYT_ENG_20100819.0156', 'APW_ENG_20091014.1111', 'APW_ENG_20090916.0923', 'AFP_ENG_20091013.0373', 'NYT_ENG_20100616.0022', 'NYT_ENG_20100123.0055', 'LTW_ENG_20090622.0010', 'AFP_ENG_20091023.0443', 'NYT_ENG_20100517.0127', 'CNA_ENG_20100130.0003', 'APW_ENG_20101129.0666', 'XIN_ENG_20100312.0271', 'AFP_ENG_20091023.0443', 'XIN_ENG_20100823.0113', 'NYT_ENG_20100330.0124', 'APW_ENG_20100908.0804', 'APW_ENG_20101117.0378', 'AFP_ENG_20100416.0129', 'APW_ENG_20100717.0008', 'APW_ENG_20100917.0288', 'WPB_ENG_20101223.0009', 'WPB_ENG_20100611.0045', 'APW_ENG_20100505.0784', 'APW_ENG_20100803.0402', 'NYT_ENG_20100824.0150', 'LTW_ENG_20090601.0047', 'APW_ENG_20100312.0407', 'APW_ENG_20090612.1160', 'XIN_ENG_20091006.0182', 'NYT_ENG_20100121.0192', 'APW_ENG_20091104.1315', 'AFP_ENG_20090918.0385', 'WPB_ENG_20100303.0021', 'NYT_ENG_20090604.0129', 'APW_ENG_20101122.0665', 'NYT_ENG_20101101.0124', 'NYT_ENG_20100616.0022', 'AFP_ENG_20090720.0139', 'WPB_ENG_20101202.0037', 'NYT_ENG_20100118.0176', 'APW_ENG_20100602.0497', 'LTW_ENG_20091210.0091', 'NYT_ENG_20100616.0022', 'AFP_ENG_20090702.0646', 'APW_ENG_20100915.0897', 'APW_ENG_20091130.0454', 'NYT_ENG_20100605.0142', 'AFP_ENG_20091117.0342', 'APW_ENG_20091130.0454', 'APW_ENG_20091112.0355', 'XIN_ENG_20100420.0311', 'WPB_ENG_20100513.0079', 'APW_ENG_20100117.0237', 'NYT_ENG_20100517.0127', 'APW_ENG_20091010.0429', 'APW_ENG_20100521.1302', 'APW_ENG_20100124.0278', 'NYT_ENG_20100616.0022', 'WPB_ENG_20100706.0019', 'APW_ENG_20100401.1013', 'APW_ENG_20100620.0264', 'AFP_ENG_20100109.0051', 'XIN_ENG_20090619.0197', 'AFP_ENG_20091023.0443', 'NYT_ENG_20100616.0022', 'APW_ENG_20090711.0328', 'APW_ENG_20100917.0129', 'NYT_ENG_20090610.0196', 'XIN_ENG_20101117.0423', 'APW_ENG_20091102.0906', 'AFP_ENG_20091023.0443', 'APW_ENG_20090804.0524', 'APW_ENG_20101207.0762', 'APW_ENG_20100526.1265', 'APW_ENG_20100725.0080', 'APW_ENG_20091211.1073', 'CNA_ENG_20100505.0043', 'APW_ENG_20090711.0328', 'APW_ENG_20090616.0393', 'APW_ENG_20090619.0009', 'NYT_ENG_20091215.0102', 'NYT_ENG_20100920.0111', 'APW_ENG_20091223.0094', 'AFP_ENG_20100403.0237', 'APW_ENG_20100115.1067', 'NYT_ENG_20100704.0085', 'NYT_ENG_20090812.0024', 'WPB_ENG_20100303.0021', 'NYT_ENG_20100622.0208', 'APW_ENG_20100929.0022', 'AFP_ENG_20090905.0292', 'APW_ENG_20100805.0960', 'AFP_ENG_20100310.0207', 'NYT_ENG_20100920.0111', 'APW_ENG_20101211.0115', 'AFP_ENG_20090825.0536', 'AFP_ENG_20100608.0245', 'LTW_ENG_20091009.0046', 'NYT_ENG_20090612.0030', 'APW_ENG_20100327.0061', 'NYT_ENG_20100629.0008', 'APW_ENG_20091007.0513', 'APW_ENG_20100405.0811', 'AFP_ENG_20100221.0493', 'APW_ENG_20100609.1264', 'APW_ENG_20100917.0129', 'NYT_ENG_20100722.0101', 'AFP_ENG_20100709.0622', 'AFP_ENG_20091023.0443', 'APW_ENG_20101027.1001', 'NYT_ENG_20100629.0008', 'AFP_ENG_20091105.0366', 'NYT_ENG_20101206.0056', 'AFP_ENG_20091023.0443', 'LTW_ENG_20091009.0046', 'APW_ENG_20100831.0483', 'AFP_ENG_20100930.0029', 'NYT_ENG_20090831.0074', 'NYT_ENG_20100505.0288', 'NYT_ENG_20100214.0091', 'AFP_ENG_20100204.0266', 'WPB_ENG_20100303.0021', 'APW_ENG_20100122.0765', 'NYT_ENG_20101007.0050', 'NYT_ENG_20100629.0081', 'APW_ENG_20090701.0750', 'NYT_ENG_20090920.0050', 'APW_ENG_20101014.0689', 'NYT_ENG_20100428.0142', 'XIN_ENG_20090805.0119', 'AFP_ENG_20100416.0129', 'WPB_ENG_20100325.0065', 'NYT_ENG_20100712.0163', 'AFP_ENG_20101231.0401', 'NYT_ENG_20090906.0152', 'NYT_ENG_20100118.0176', 'APW_ENG_20100123.0182', 'AFP_ENG_20090610.0681', 'NYT_ENG_20090630.0137', 'AFP_ENG_20100518.0767', 'APW_ENG_20100304.0712', 'APW_ENG_20100830.0062', 'AFP_ENG_20090617.0258', 'NYT_ENG_20090604.0129', 'NYT_ENG_20100616.0022', 'XIN_ENG_20090619.0197', 'WPB_ENG_20101109.0048', 'APW_ENG_20091027.0092', 'APW_ENG_20100821.0075', 'AFP_ENG_20100204.0377', 'APW_ENG_20090616.0936', 'APW_ENG_20090805.0238', 'APW_ENG_20100917.0129', 'NYT_ENG_20100505.0288', 'AFP_ENG_20100413.0679', 'NYT_ENG_20101029.0016', 'NYT_ENG_20101202.0129', 'APW_ENG_20100908.0945', 'AFP_ENG_20101223.0151', 'NYT_ENG_20100622.0208', 'AFP_ENG_20100506.0465', 'APW_ENG_20090728.0218', 'APW_ENG_20091027.0092', 'APW_ENG_20101121.0243', 'NYT_ENG_20090601.0156', 'NYT_ENG_20100701.0190', 'XIN_ENG_20100113.0084', 'APW_ENG_20100629.1351', 'AFP_ENG_20101221.0512', 'NYT_ENG_20091203.0160', 'APW_ENG_20101004.0108', 'AFP_ENG_20101025.0042', 'WPB_ENG_20100919.0019', 'APW_ENG_20100124.0278', 'AFP_ENG_20101206.0338', 'NYT_ENG_20100428.0142', 'XIN_ENG_20100506.0359', 'AFP_ENG_20101201.0512', 'WPB_ENG_20100908.0065', 'CNA_ENG_20100505.0043', 'AFP_ENG_20091117.0342', 'NYT_ENG_20090717.0143', 'XIN_ENG_20100420.0311', 'NYT_ENG_20101114.0046', 'NYT_ENG_20100331.0089', 'AFP_ENG_20101223.0151', 'NYT_ENG_20090622.0008', 'AFP_ENG_20090927.0242', 'APW_ENG_20101124.0955', 'AFP_ENG_20090618.0457', 'AFP_ENG_20091013.0242', 'WPB_ENG_20100407.0044', 'NYT_ENG_20100516.0136', 'APW_ENG_20100226.1020', 'APW_ENG_20090809.0577', 'NYT_ENG_20100704.0085', 'NYT_ENG_20101206.0146', 'AFP_ENG_20091023.0443', 'APW_ENG_20090616.0393', 'NYT_ENG_20100625.0049', 'AFP_ENG_20101206.0338', 'WPB_ENG_20101202.0037', 'APW_ENG_20101004.0108', 'APW_ENG_20091104.1097', 'AFP_ENG_20090721.0490', 'NYT_ENG_20090720.0062', 'AFP_ENG_20090618.0457', 'APW_ENG_20100821.0075', 'AFP_ENG_20090913.0360', 'NYT_ENG_20100707.0117', 'AFP_ENG_20090618.0457', 'WPB_ENG_20100303.0021', 'NYT_ENG_20101024.0098', 'APW_ENG_20100821.0075', 'WPB_ENG_20100513.0079', 'APW_ENG_20101122.0665', 'LTW_ENG_20090602.0087', 'AFP_ENG_20100704.0089', 'AFP_ENG_20100831.0018', 'AFP_ENG_20091023.0443', 'NYT_ENG_20100319.0143', 'APW_ENG_20091130.0454', 'APW_ENG_20101123.0950', 'NYT_ENG_20100622.0208', 'AFP_ENG_20091013.0242', 'NYT_ENG_20100412.0128', 'AFP_ENG_20091209.0517', 'APW_ENG_20100810.0606', 'APW_ENG_20100526.1265', 'NYT_ENG_20100824.0150', 'APW_ENG_20101027.0598', 'LTW_ENG_20091009.0046', 'AFP_ENG_20100517.0432', 'APW_ENG_20101214.0196', 'NYT_ENG_20100507.0197', 'XIN_ENG_20091022.0269', 'LTW_ENG_20090825.0034', 'APW_ENG_20100816.0593', 'APW_ENG_20091122.0267', 'NYT_ENG_20100629.0081', 'AFP_ENG_20100925.0177', 'APW_ENG_20090922.0276', 'APW_ENG_20100408.1312', 'APW_ENG_20100719.0881', 'AFP_ENG_20101216.0417', 'NYT_ENG_20090604.0129', 'NYT_ENG_20091203.0160', 'NYT_ENG_20090712.0120', 'APW_ENG_20100225.0879', 'APW_ENG_20090821.0990', 'APW_ENG_20100924.0440', 'AFP_ENG_20090825.0536', 'NYT_ENG_20090906.0152', 'APW_ENG_20100117.0237', 'AFP_ENG_20091023.0443', 'AFP_ENG_20100127.0228', 'LTW_ENG_20091210.0091', 'NYT_ENG_20100722.0101', 'APW_ENG_20090922.0276', 'APW_ENG_20100211.0634', 'APW_ENG_20100327.0061', 'APW_ENG_20100225.1482', 'APW_ENG_20090711.0164'], [2, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 0, 2, 0, 0, 1, 2, 1, 0, 2, 1, 2, 0, 1, 0, 0, 0, 2, 0, 0, 1, 0, 0, 0, 1, 2, 0, 0, 1, 0, 1, 0, 1, 1, 0, 1, 0, 1, 1, 1, 1, 0, 0, 1, 0, 2, 1, 1, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 2, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 2, 1, 0, 0, 2, 0, 0, 0, 1, 1, 0, 2, 2, 1, 0, 1, 0, 0, 0, 1, 2, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 2, 2, 0, 1, 0, 0, 0, 0, 1, 2, 0, 1, 1, 0, 0, 0, 2, 1, 0, 2, 2, 1, 0, 0, 0, 0, 2, 0, 0, 1, 0, 0, 0, 2, 0, 0, 0, 0, 1, 0, 2, 0, 0, 2, 2, 1, 0, 1, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 1, 0, 1, 1, 0, 2, 0, 0, 1, 0, 1, 1, 0, 0, 1, 1, 2, 0, 0, 0, 0, 2, 0, 0, 0, 1, 0, 0, 1, 1, 1, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 2, 0, 0, 1, 0, 0, 1, 1, 0, 0, 1, 1, 1, 0, 1, 2, 1, 2, 0, 0, 0, 0, 0, 2, 1, 1, 2, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 1, 2, 0, 1, 1, 1, 1, 1, 0, 0, 2, 1, 0, 0, 0, 2, 0, 1, 1, 1, 0, 0, 0, 2, 2, 0, 0, 0, 0, 1, 1, 0, 0, 0, 1, 0, 1, 0, 2, 1, 2, 1, 1, 0, 1, 1, 1, 0, 0, 1, 2, 0, 0, 0, 1, 0, 1, 2, 1, 1, 1, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 1, 0, 1, 0, 0, 1, 0, 0, 0, 2, 1, 2, 2, 1, 0, 2, 0, 0, 2, 2, 2, 0, 2, 0, 0, 1, 0, 2, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 2, 0, 0, 1, 1, 1, 0, 1, 0, 1, 1, 0, 1, 0, 2, 2, 0, 2, 1, 1, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 2, 0, 2, 0, 1, 0, 1, 0, 0, 0, 0, 1, 0, 2, 2, 0, 1, 0, 0, 0, 2, 1, 1, 1, 0, 1, 0, 1], [1, 0, 1, 1, 2, 1, 1, 1, 2, 2, 2, 2, 1, 2, 2, 0, 2, 2, 0, 1, 0, 1, 1, 2, 1, 0, 1, 0, 0, 1, 1, 0, 2, 2, 1, 0, 2, 2, 0, 2, 1, 2, 0, 0, 2, 1, 0, 1, 2, 2, 2, 0, 2, 2, 2, 2, 0, 0, 2, 2, 2, 2, 2, 1, 2, 0, 2, 2, 2, 2, 2, 2, 2, 1, 2, 1, 1, 2, 2, 1, 1, 2, 2, 2, 1, 1, 2, 1, 1, 2, 1, 2, 2, 2, 1, 1, 2, 1, 1, 0, 1, 1, 0, 2, 2, 1, 0, 0, 2, 0, 1, 0, 2, 2, 1, 1, 1, 2, 0, 2, 1, 1, 0, 2, 1, 2, 2, 2, 1, 2, 1, 0, 2, 0, 1, 2, 2, 2, 2, 1, 1, 2, 2, 1, 1, 1, 0, 0, 2, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 0, 2, 2, 1, 1, 2, 1, 0, 2, 1, 1, 1, 2, 2, 0, 2, 1, 1, 1, 1, 2, 2, 2, 1, 2, 0, 2, 1, 2, 1, 2, 0, 1, 1, 2, 2, 0, 2, 2, 2, 2, 2, 2, 0, 0, 1, 1, 2, 1, 1, 2, 2, 1, 2, 2, 1, 0, 2, 2, 1, 2, 1, 2, 0, 2, 2, 0, 2, 2, 1, 2, 2, 0, 1, 2, 2, 1, 1, 0, 2, 1, 2, 0, 0, 2, 2, 2, 0, 2, 1, 1, 1, 1, 2, 2, 0, 2, 0, 0, 2, 1, 2, 2, 2, 2, 2, 1, 2, 2, 2, 0, 1, 1, 2, 2, 2, 2, 2, 2, 2, 1, 2, 1, 2, 2, 1, 1, 0, 0, 0, 1, 2, 2, 1, 1, 1, 1, 2, 2, 2, 0, 1, 2, 2, 2, 1, 0, 1, 0, 2, 1, 2, 2, 2, 2, 0, 0, 1, 1, 2, 1, 2, 1, 2, 2, 1, 2, 1, 0, 2, 2, 1, 1, 0, 1, 1, 1, 1, 1, 2, 1, 0, 0, 2, 1, 2, 2, 2, 0, 2, 2, 0, 1, 2, 2, 1, 0, 1, 0, 0, 2, 0, 2, 2, 0, 0, 0, 1, 1, 1, 1, 0, 2, 1, 2, 2, 2, 0, 2, 1, 1, 2, 0, 1, 1, 1, 2, 2, 0, 0, 2, 1, 0, 1, 0, 0, 2, 2, 1, 1, 1, 1, 1, 0, 2, 1, 2, 2, 1, 2, 1, 2, 2, 2, 2, 1, 1, 1, 2, 0, 1, 2, 1, 2, 2, 1, 1, 2, 0, 2, 0, 1, 2, 2, 2, 1, 2, 0, 0, 2, 2, 1, 2, 2, 2]]
train_or_dev = "dev"

wrong_docs_set = {}
total_devs = {}

with open("./data/new_annot/trainsplit_holdtarg/" + train_or_dev + ".json", "r") as rf:
    for line in rf:
        annot = json.loads(line)
        polarity = {"strongneg": 0,
                    "weakneg": 0,
                    "neutral": 0,
                    "weakpos": 0,
                    "strongpos": 0,
                    "<unk>": 0 }
        for pol_token in annot["polarity"]:
            polarity[pol_token] += 1
        if annot["docid"] not in total_devs:
            total_devs[annot["docid"]] = {"polarity": polarity, "real label": []}
        total_devs[annot["docid"]]["real label"].append(annot["label"])

train_label_counts = [0, 0, 0]
with open("./data/new_annot/trainsplit_holdtarg/train.json", "r") as rf:
    for line in rf:
        annot = json.loads(line)
        train_label_counts[annot["label"]] += 1
print("training distributions:")
print(train_label_counts)

for i in range(0, len(wrong_docs[0])):
    docid = wrong_docs[0][i]
    if docid not in wrong_docs_set:
        wrong_docs_set[docid] = {"preds": [], "trues": [], "labels2": total_devs[docid]["real label"]}
    wrong_docs_set[docid]["preds"].append(wrong_docs[1][i])
    wrong_docs_set[docid]["trues"].append(wrong_docs[2][i])

# Supplement with total_devs
for docid in total_devs:
    if docid not in wrong_docs_set:
        wrong_docs_set[docid] = {"preds": total_devs[docid]["real label"],
                                 "trues": [], "labels2": total_devs[docid]["real label"]}

# Cushion predicted labels
for docid in wrong_docs_set:
    copy = wrong_docs_set[docid]["labels2"].copy()
    if len(wrong_docs_set[docid]["preds"]) == len(wrong_docs_set[docid]["labels2"]):
        continue
    for label in wrong_docs_set[docid]["trues"]:
        if label in copy:
            copy.remove(label)
    while len(wrong_docs_set[docid]["preds"]) < len(wrong_docs_set[docid]["labels2"]):
        wrong_docs_set[docid]["preds"].extend(copy)

print()
pred_dist = [0, 0, 0]
act_dist = [0, 0, 0]
for docid in wrong_docs_set:
    for preds in wrong_docs_set[docid]["preds"]:
        pred_dist[preds] += 1
    for reals in wrong_docs_set[docid]["labels2"]:
        act_dist[reals] += 1
print("prediction distributions: ")
print(pred_dist)
print([i / sum(pred_dist) for i in pred_dist])
print("actual distributions: ")
print(act_dist)
print([i / sum(act_dist) for i in act_dist])
print()

more_than_one = 0
pred_homo = 0
pred_homo_mistakes = 0
real_homo = 0
# Count homogenous predictions
for docid in wrong_docs_set:
    if len(wrong_docs_set[docid]["preds"]) > 1:
        more_than_one += 1
        homogenous1 = True
        for pred_label in wrong_docs_set[docid]["preds"]:
            if pred_label != wrong_docs_set[docid]["preds"][0]:
                homogenous1 = False
                break

        homogenous = True
        for real_label in wrong_docs_set[docid]["labels2"]:
            if real_label != wrong_docs_set[docid]["labels2"][0]:
                homogenous = False
                break
        if homogenous:
            real_homo += 1

        if homogenous1:
            pred_homo += 1
        if homogenous1:
            if not homogenous:
                pred_homo_mistakes += len(wrong_docs_set[docid]["trues"])  # count how many mistakes it accounts for


print(more_than_one)  # how many docs with > 1
print(len(wrong_docs_set))  # how many total docs
print(len(wrong_docs[0]))  # how many total mistakes
print(pred_homo / more_than_one)  # what % of > 1 docs predicted to be homogeneous
print(real_homo / more_than_one)  # what % of > 1 docs actually homogeneous
print(pred_homo_mistakes / len(wrong_docs[0]))  # what % of mistakes does homogeneity account for
print(pred_homo_mistakes / len(wrong_docs[0]))  # what % of mistakes is from wrong predictions
print()

# find distribution of labels
# horizontal: predictions
# vertical: actual
# [predicted neg, predicted none, predicted pos]
label_distribution = [[0, 0, 0],
                      [0, 0, 0],
                      [0, 0, 0]]
categorized_incorrect = [[[], [], []],
                         [[], [], []],
                         [[], [], []]]
j = 0
for docid in wrong_docs_set:
    hi = False
    for i in range(0, len(wrong_docs_set[docid]["preds"])):
        pred_label = wrong_docs_set[docid]["preds"][i]
        if i >= len(wrong_docs_set[docid]["trues"]):
            label_distribution[pred_label][pred_label] += 1
            categorized_incorrect[pred_label][pred_label].append(docid)
        else:
            actual_label = wrong_docs_set[docid]["trues"][i]
            label_distribution[pred_label][actual_label] += 1
            categorized_incorrect[pred_label][actual_label].append(docid)
    # print it all out
    if wrong_docs_set[docid]["preds"] != wrong_docs_set[docid]["labels2"]:
        j += len(wrong_docs_set[docid]["trues"])
        hi = True
        print(str(wrong_docs_set[docid]["preds"]) + " " + str(wrong_docs_set[docid]["trues"]) + " "
              + str(total_devs[docid]["real label"]) + " " + str(docid))
    if len(wrong_docs_set[docid]["trues"]) != 0 and not hi:
        j += len(wrong_docs_set[docid]["trues"])
        print(str(wrong_docs_set[docid]["preds"]) + " " + str(wrong_docs_set[docid]["trues"]) + " "
              + str(total_devs[docid]["real label"]) + " " + str(docid))

print(j)

print("\nlabel distribution")
for i in range(0, len(label_distribution)):
    print("Predicted " + str(i))
    print(label_distribution[i])
for i in range(0, len(categorized_incorrect)):
    print("Predicted " + str(i))
    print("    Actually " + str((i + 1) % 3))
    print(categorized_incorrect[i][(i + 1) % 3])
    print("    Actually " + str((i + 2) % 3))
    print(categorized_incorrect[i][(i + 2) % 3])

'''
acount = 0
bcount = 0
ccount = 0
dcount = 0
netcount = 0
for docid in wrong_docs_set:
    polarity = wrong_docs_set[docid]["sent"]
    pol_score = -2 * polarity["strongneg"] - 1 * polarity["weakneg"] \
                    + polarity["weakpos"] + 2 * polarity["strongpos"]
    for preds in wrong_docs_set[docid]["preds"]:
        if preds == 0 and pol_score <= -10:
            acount += 1
        elif preds == 2 and pol_score > 0:
            bcount += 1
        else:
            print(str(wrong_docs_set[docid]) + " " + str(docid))
            print(pol_score)
    print()

    for acts in wrong_docs_set[docid]["trues"]:
        if acts == 0 and pol_score <= 5:
            ccount += 1
        elif acts == 2 and pol_score >= -5:
            dcount += 1
        elif acts == 1 and pol_score < 5 and pol_score > -5:
            netcount += 1
        #else:
            #print(wrong_docs_set[docid])
            #print(pol_score)

print(wrong_docs_set)
print([acount, bcount])
print(acount + bcount)
print([ccount, netcount, dcount])
print(sum([ccount, netcount, dcount]))
print(len(wrong_docs[0]))
print(len(wrong_docs_set))
'''
'''
wrong_docs = [[['AFP_ENG_20101209.0587', 'AFP_ENG_20090716.0651', 'AFP_ENG_20090720.0139', 'NYT_ENG_20100331.0089', 'LTW_ENG_20091004.0012', 'NYT_ENG_20101129.0124', 'NYT_ENG_20101114.0046', 'AFP_ENG_20100204.0585', 'CNA_ENG_20100130.0003', 'NYT_ENG_20100625.0049', 'AFP_ENG_20091023.0443', 'APW_ENG_20091102.0906', 'NYT_ENG_20100616.0022', 'NYT_ENG_20100920.0111', 'NYT_ENG_20100920.0111', 'NYT_ENG_20100722.0101', 'NYT_ENG_20100819.0131', 'APW_ENG_20100929.0022', 'APW_ENG_20091014.1111', 'AFP_ENG_20100529.0157', 'APW_ENG_20100115.0532', 'APW_ENG_20100327.0061', 'APW_ENG_20100803.0402', 'AFP_ENG_20101126.0399', 'APW_ENG_20100124.0278', 'AFP_ENG_20091023.0443', 'NYT_ENG_20090815.0012', 'AFP_ENG_20090823.0374', 'NYT_ENG_20090812.0024', 'NYT_ENG_20090911.0002', 'NYT_ENG_20090717.0143', 'AFP_ENG_20090802.0375', 'APW_ENG_20091007.0513', 'NYT_ENG_20090815.0012', 'AFP_ENG_20090918.0385', 'AFP_ENG_20090618.0457', 'APW_ENG_20101116.0054', 'NYT_ENG_20090604.0129', 'AFP_ENG_20100323.0271', 'AFP_ENG_20100517.0432', 'APW_ENG_20100805.0960', 'XIN_ENG_20100312.0271', 'AFP_ENG_20091023.0443', 'APW_ENG_20100725.0080', 'WPB_ENG_20101223.0009', 'APW_ENG_20100117.0237', 'APW_ENG_20101027.0598', 'APW_ENG_20100725.0080', 'AFP_ENG_20090712.0350', 'NYT_ENG_20100919.0050', 'AFP_ENG_20100410.0179', 'APW_ENG_20100728.0655', 'AFP_ENG_20091106.0327', 'AFP_ENG_20090720.0139', 'AFP_ENG_20100416.0129', 'NYT_ENG_20100505.0288', 'APW_ENG_20100719.0881', 'APW_ENG_20100917.0129', 'AFP_ENG_20101206.0338', 'APW_ENG_20101129.0666', 'NYT_ENG_20100806.0032', 'NYT_ENG_20091215.0102', 'APW_ENG_20100409.0913', 'NYT_ENG_20100629.0008', 'APW_ENG_20100401.1013', 'AFP_ENG_20100317.0125', 'XIN_ENG_20100420.0311', 'APW_ENG_20100117.0237', 'NYT_ENG_20101130.0187', 'NYT_ENG_20100825.0036', 'WPB_ENG_20101108.0019', 'APW_ENG_20091211.1073', 'AFP_ENG_20100925.0177', 'AFP_ENG_20100204.0585', 'NYT_ENG_20100731.0054', 'NYT_ENG_20100707.0117', 'APW_ENG_20100408.1312', 'AFP_ENG_20091023.0443', 'AFP_ENG_20100930.0029', 'APW_ENG_20100725.0080', 'NYT_ENG_20101024.0098', 'WPB_ENG_20100908.0065', 'AFP_ENG_20101025.0042', 'APW_ENG_20090805.0238', 'XIN_ENG_20101126.0197', 'APW_ENG_20100803.0402', 'APW_ENG_20100117.0237', 'APW_ENG_20100115.0532', 'NYT_ENG_20090709.0019', 'WPB_ENG_20101202.0037', 'NYT_ENG_20101206.0146', 'AFP_ENG_20090618.0457', 'APW_ENG_20090922.0276', 'APW_ENG_20101122.0665', 'APW_ENG_20100312.0407', 'APW_ENG_20100908.0804', 'NYT_ENG_20101003.0098', 'APW_ENG_20101117.0378', 'APW_ENG_20100629.1351', 'WPB_ENG_20100303.0021', 'APW_ENG_20100929.0022', 'AFP_ENG_20101101.0361', 'NYT_ENG_20100731.0054', 'NYT_ENG_20090604.0129', 'AFP_ENG_20090610.0681', 'NYT_ENG_20090914.0022', 'AFP_ENG_20100121.0710', 'APW_ENG_20100917.0288', 'APW_ENG_20091130.0454', 'NYT_ENG_20090706.0129', 'APW_ENG_20101027.1001', 'APW_ENG_20091104.1315', 'APW_ENG_20100728.0655', 'NYT_ENG_20101018.0068', 'APW_ENG_20100526.1265', 'NYT_ENG_20101024.0046', 'AFP_ENG_20100511.0779', 'APW_ENG_20090624.0139', 'XIN_ENG_20100415.0292', 'APW_ENG_20090922.0276', 'XIN_ENG_20100811.0109', 'AFP_ENG_20090702.0646', 'XIN_ENG_20100518.0408', 'APW_ENG_20091104.1315', 'NYT_ENG_20090820.0150', 'NYT_ENG_20100616.0022', 'NYT_ENG_20091011.0036', 'AFP_ENG_20100204.0585', 'APW_ENG_20101027.0598', 'AFP_ENG_20101223.0151', 'APW_ENG_20100929.0022', 'NYT_ENG_20100701.0190', 'XIN_ENG_20100420.0311', 'NYT_ENG_20100704.0085', 'APW_ENG_20100602.0497', 'AFP_ENG_20091115.0330', 'NYT_ENG_20100622.0208', 'APW_ENG_20091027.0505', 'APW_ENG_20090914.1051', 'APW_ENG_20100129.1170', 'APW_ENG_20100724.0429', 'APW_ENG_20100124.0278', 'APW_ENG_20100517.1107', 'APW_ENG_20101214.0196', 'LTW_ENG_20091210.0091', 'APW_ENG_20091222.0589', 'AFP_ENG_20100518.0767', 'XIN_ENG_20091022.0269', 'APW_ENG_20090616.0393', 'AFP_ENG_20100506.0465', 'APW_ENG_20100602.0497', 'AFP_ENG_20100608.0245', 'APW_ENG_20100620.0264', 'NYT_ENG_20090630.0098', 'NYT_ENG_20100701.0190', 'WPB_ENG_20101223.0009', 'AFP_ENG_20090617.0258', 'NYT_ENG_20100704.0085', 'APW_ENG_20101122.0665', 'NYT_ENG_20100115.0016', 'APW_ENG_20090612.1160', 'APW_ENG_20101018.0522', 'NYT_ENG_20091117.0039', 'NYT_ENG_20100314.0014', 'AFP_ENG_20100413.0679', 'AFP_ENG_20100317.0125', 'WPB_ENG_20100921.0090', 'WPB_ENG_20101223.0009', 'APW_ENG_20090608.0732', 'APW_ENG_20101122.0665', 'APW_ENG_20101123.0950', 'AFP_ENG_20091209.0517', 'APW_ENG_20090804.0524', 'APW_ENG_20101116.0054', 'APW_ENG_20091116.0060', 'NYT_ENG_20101111.0112', 'AFP_ENG_20091116.0525', 'AFP_ENG_20091013.0373', 'AFP_ENG_20091023.0443', 'APW_ENG_20100810.0606', 'NYT_ENG_20100428.0142', 'APW_ENG_20100327.0061', 'NYT_ENG_20090622.0008', 'AFP_ENG_20100127.0228', 'APW_ENG_20090711.0164', 'AFP_ENG_20100107.0023', 'APW_ENG_20101004.0108', 'APW_ENG_20100123.0182', 'LTW_ENG_20091009.0046', 'APW_ENG_20091122.0267', 'NYT_ENG_20101029.0016', 'NYT_ENG_20100629.0081', 'XIN_ENG_20090619.0197', 'APW_ENG_20101124.0955', 'NYT_ENG_20100314.0014', 'NYT_ENG_20100622.0208', 'APW_ENG_20100602.0497', 'APW_ENG_20090922.0276', 'AFP_ENG_20091023.0443', 'NYT_ENG_20100629.0081', 'APW_ENG_20101004.0108', 'NYT_ENG_20091006.0207', 'AFP_ENG_20091013.0242', 'NYT_ENG_20100904.0027', 'AFP_ENG_20090825.0536', 'APW_ENG_20101116.0054', 'APW_ENG_20090605.0274', 'APW_ENG_20090804.0524', 'WPB_ENG_20100303.0021', 'XIN_ENG_20100823.0113', 'NYT_ENG_20091013.0110', 'NYT_ENG_20100428.0142', 'APW_ENG_20100728.0655', 'AFP_ENG_20090623.0161', 'APW_ENG_20101006.0361', 'AFP_ENG_20100107.0023', 'CNA_ENG_20100130.0003', 'AFP_ENG_20090623.0161', 'WPB_ENG_20100407.0044', 'XIN_ENG_20091022.0269', 'AFP_ENG_20100329.0081', 'APW_ENG_20090603.0781', 'NYT_ENG_20090610.0196', 'NYT_ENG_20100501.0057', 'APW_ENG_20100821.0075', 'NYT_ENG_20101218.0106', 'AFP_ENG_20091023.0443', 'AFP_ENG_20091119.0217', 'NYT_ENG_20090630.0137', 'AFP_ENG_20101216.0417', 'APW_ENG_20100225.1482', 'AFP_ENG_20100517.0432', 'APW_ENG_20101121.0243', 'APW_ENG_20100312.1067', 'XIN_ENG_20101117.0423', 'APW_ENG_20091211.1073', 'APW_ENG_20100830.0062', 'NYT_ENG_20090630.0098', 'NYT_ENG_20100629.0081', 'AFP_ENG_20100330.0258', 'CNA_ENG_20100505.0043', 'APW_ENG_20090821.0990', 'WPB_ENG_20100513.0079', 'APW_ENG_20100123.0182', 'APW_ENG_20091116.0281', 'XIN_ENG_20100923.0243', 'NYT_ENG_20101101.0124', 'WPB_ENG_20101029.0005', 'AFP_ENG_20090918.0385', 'AFP_ENG_20100330.0258', 'APW_ENG_20091104.1097', 'NYT_ENG_20100813.0008', 'NYT_ENG_20100115.0016', 'AFP_ENG_20100831.0018', 'AFP_ENG_20100831.0018', 'APW_ENG_20100216.0742', 'APW_ENG_20100413.0698', 'NYT_ENG_20101019.0147', 'APW_ENG_20091102.1082', 'APW_ENG_20100405.0811', 'AFP_ENG_20100204.0377', 'AFP_ENG_20091105.0366', 'APW_ENG_20100629.1351', 'NYT_ENG_20090906.0152', 'NYT_ENG_20090719.0097', 'APW_ENG_20091027.0092', 'NYT_ENG_20100819.0156', 'APW_ENG_20100123.0182', 'CNA_ENG_20100505.0043', 'WPB_ENG_20100303.0021', 'CNA_ENG_20100130.0003', 'APW_ENG_20090711.0328', 'APW_ENG_20091130.0454', 'NYT_ENG_20100214.0091', 'XIN_ENG_20100113.0084', 'APW_ENG_20100906.0501', 'NYT_ENG_20101101.0124', 'APW_ENG_20100821.0075', 'APW_ENG_20100327.0061', 'APW_ENG_20100521.0493', 'APW_ENG_20090916.0923', 'APW_ENG_20091130.0454', 'APW_ENG_20100312.0407', 'AFP_ENG_20091209.0517', 'AFP_ENG_20100416.0129', 'APW_ENG_20101214.0196', 'NYT_ENG_20100707.0117', 'AFP_ENG_20101221.0512', 'NYT_ENG_20100517.0127', 'WPB_ENG_20100919.0019', 'AFP_ENG_20091013.0242', 'CNA_ENG_20100130.0003', 'APW_ENG_20090918.0836', 'AFP_ENG_20091023.0443', 'NYT_ENG_20090601.0156', 'NYT_ENG_20090622.0008', 'APW_ENG_20090819.0117', 'NYT_ENG_20100804.0092', 'APW_ENG_20100722.1393', 'APW_ENG_20100611.0968', 'CNA_ENG_20091216.0037', 'APW_ENG_20091211.1073', 'APW_ENG_20100803.0402', 'XIN_ENG_20101119.0135', 'AFP_ENG_20100221.0493', 'NYT_ENG_20100809.0175', 'XIN_ENG_20090619.0197', 'AFP_ENG_20100511.0779', 'APW_ENG_20100117.0237', 'NYT_ENG_20090806.0180', 'APW_ENG_20100117.0237', 'APW_ENG_20090610.0180', 'NYT_ENG_20100920.0111', 'APW_ENG_20090612.1160', 'APW_ENG_20100211.0634', 'APW_ENG_20100803.0402', 'AFP_ENG_20091023.0443', 'NYT_ENG_20101113.0057', 'APW_ENG_20100914.0103', 'APW_ENG_20100728.0655', 'APW_ENG_20100526.1265', 'CNA_ENG_20100608.0044', 'APW_ENG_20101118.0117', 'AFP_ENG_20090702.0646', 'NYT_ENG_20100819.0156', 'APW_ENG_20091122.0267', 'AFP_ENG_20101009.0152', 'AFP_ENG_20100106.0429', 'AFP_ENG_20091023.0443', 'APW_ENG_20100724.0429', 'WPB_ENG_20100513.0079', 'APW_ENG_20100225.0879', 'APW_ENG_20090616.0936', 'APW_ENG_20100526.1265', 'APW_ENG_20100602.0497', 'APW_ENG_20100629.1351', 'AFP_ENG_20100416.0129', 'APW_ENG_20090701.0750', 'APW_ENG_20100413.0878', 'NYT_ENG_20100115.0016', 'APW_ENG_20090610.0180', 'XIN_ENG_20100506.0359', 'XIN_ENG_20090805.0119', 'NYT_ENG_20100123.0055', 'APW_ENG_20100521.0493', 'NYT_ENG_20100622.0208', 'NYT_ENG_20100701.0190', 'AFP_ENG_20091023.0443', 'LTW_ENG_20091009.0046', 'APW_ENG_20100521.0493', 'APW_ENG_20100115.1067', 'AFP_ENG_20100413.0569', 'APW_ENG_20091010.0429', 'NYT_ENG_20100505.0288', 'NYT_ENG_20101007.0050', 'LTW_ENG_20091108.0016', 'WPB_ENG_20100808.0010', 'NYT_ENG_20090712.0120', 'AFP_ENG_20091023.0443', 'AFP_ENG_20090610.0681', 'NYT_ENG_20091002.0167', 'APW_ENG_20100123.0182', 'NYT_ENG_20100818.0177', 'APW_ENG_20100830.0062', 'NYT_ENG_20100722.0101', 'XIN_ENG_20090805.0119', 'NYT_ENG_20100319.0143', 'APW_ENG_20100917.0129', 'AFP_ENG_20091115.0330', 'APW_ENG_20100821.0075', 'APW_ENG_20100312.0407', 'NYT_ENG_20090604.0129', 'APW_ENG_20090707.0677', 'NYT_ENG_20090626.0158', 'LTW_ENG_20090825.0034', 'APW_ENG_20100924.0440', 'WPB_ENG_20100129.0011', 'APW_ENG_20100401.1013', 'APW_ENG_20100719.0881', 'APW_ENG_20100908.0804', 'APW_ENG_20101020.0390', 'AFP_ENG_20100106.0429', 'NYT_ENG_20090906.0152', 'APW_ENG_20091211.1073', 'APW_ENG_20100722.1393', 'WPB_ENG_20101223.0009', 'NYT_ENG_20101011.0102', 'NYT_ENG_20100824.0150', 'APW_ENG_20101118.0117', 'NYT_ENG_20100123.0055', 'AFP_ENG_20091117.0342', 'AFP_ENG_20100709.0622', 'APW_ENG_20090707.0677', 'NYT_ENG_20100616.0022', 'NYT_ENG_20101007.0050', 'APW_ENG_20090619.0009', 'APW_ENG_20100629.1351', 'AFP_ENG_20100403.0237', 'AFP_ENG_20101209.0587', 'LTW_ENG_20091009.0046', 'WPB_ENG_20100714.0087', 'NYT_ENG_20101206.0056', 'NYT_ENG_20100629.0008', 'APW_ENG_20090711.0164', 'WPB_ENG_20100706.0019', 'AFP_ENG_20091023.0443', 'APW_ENG_20090603.0781', 'XIN_ENG_20090701.0295', 'NYT_ENG_20100622.0208', 'AFP_ENG_20100221.0004', 'APW_ENG_20100917.0129', 'APW_ENG_20090622.0883', 'AFP_ENG_20100310.0207', 'APW_ENG_20091223.0094', 'NYT_ENG_20100804.0092', 'AFP_ENG_20100511.0861', 'APW_ENG_20100909.0276', 'APW_ENG_20100405.0147', 'NYT_ENG_20100920.0111', 'CNA_ENG_20100130.0003', 'APW_ENG_20090616.0393', 'APW_ENG_20100831.0050', 'APW_ENG_20100908.0945', 'WPB_ENG_20100513.0079', 'NYT_ENG_20091215.0102', 'XIN_ENG_20100302.0322', 'WPB_ENG_20101202.0037', 'WPB_ENG_20100729.0026', 'AFP_ENG_20090618.0457', 'APW_ENG_20091223.0094', 'CNA_ENG_20100130.0003', 'APW_ENG_20100719.0881', 'AFP_ENG_20090702.0646', 'APW_ENG_20100505.0784', 'NYT_ENG_20100622.0208', 'CNA_ENG_20100505.0043', 'WPB_ENG_20101029.0005', 'NYT_ENG_20100806.0032', 'AFP_ENG_20101201.0512', 'NYT_ENG_20091120.0197', 'APW_ENG_20090619.0383', 'AFP_ENG_20090905.0292', 'APW_ENG_20101124.0955', 'NYT_ENG_20090612.0030', 'APW_ENG_20100124.0278', 'NYT_ENG_20100531.0125', 'APW_ENG_20101214.0196', 'WPB_ENG_20100303.0021', 'APW_ENG_20100505.0313', 'APW_ENG_20100304.0712', 'NYT_ENG_20091215.0102', 'AFP_ENG_20090702.0646', 'AFP_ENG_20100204.0266', 'AFP_ENG_20090927.0242', 'APW_ENG_20091027.0092', 'APW_ENG_20101013.1052', 'LTW_ENG_20091210.0091', 'AFP_ENG_20100207.0030', 'CNA_ENG_20100505.0043', 'AFP_ENG_20100127.0228', 'AFP_ENG_20091117.0342', 'AFP_ENG_20091110.0076', 'APW_ENG_20101211.0115', 'APW_ENG_20101129.0666', 'NYT_ENG_20100704.0085', 'APW_ENG_20100117.0407', 'APW_ENG_20091122.0267', 'AFP_ENG_20101223.0151', 'NYT_ENG_20100804.0092', 'LTW_ENG_20091015.0009', 'NYT_ENG_20100824.0150', 'AFP_ENG_20100204.0585', 'LTW_ENG_20090602.0087', 'NYT_ENG_20100707.0117', 'APW_ENG_20090914.1051', 'AFP_ENG_20100608.0245', 'APW_ENG_20100408.1312', 'WPB_ENG_20101109.0048', 'NYT_ENG_20100507.0197', 'APW_ENG_20090615.0291', 'APW_ENG_20100609.1264', 'NYT_ENG_20100920.0111', 'AFP_ENG_20090720.0139', 'APW_ENG_20100129.1170', 'XIN_ENG_20100712.0184', 'WPB_ENG_20101108.0019', 'APW_ENG_20101214.0196', 'AFP_ENG_20091023.0443', 'APW_ENG_20100521.1302', 'NYT_ENG_20100928.0211', 'NYT_ENG_20101121.0145', 'APW_ENG_20100304.0712', 'AFP_ENG_20091023.0443', 'NYT_ENG_20090709.0019', 'AFP_ENG_20101017.0199', 'APW_ENG_20090821.0990', 'NYT_ENG_20101208.0096', 'AFP_ENG_20100204.0585', 'NYT_ENG_20101202.0129', 'WPB_ENG_20101116.0049', 'NYT_ENG_20101029.0016', 'NYT_ENG_20090604.0129', 'APW_ENG_20100821.0075', 'NYT_ENG_20101007.0050', 'NYT_ENG_20091215.0102', 'AFP_ENG_20100204.0585', 'APW_ENG_20100211.0634', 'APW_ENG_20090809.0577', 'AFP_ENG_20091209.0517', 'CNA_ENG_20091216.0037', 'APW_ENG_20100728.0655', 'APW_ENG_20100505.0784', 'AFP_ENG_20100704.0089', 'APW_ENG_20090612.1160', 'APW_ENG_20100719.0572', 'NYT_ENG_20101130.0187', 'WPB_ENG_20101109.0048'], [0, 0, 0, 0, 0, 0, 2, 0, 2, 0, 0, 0, 2, 0, 0, 2, 2, 0, 0, 0, 0, 1, 0, 0, 2, 0, 2, 2, 2, 2, 0, 0, 0, 2, 0, 0, 0, 2, 2, 0, 0, 2, 0, 0, 2, 0, 2, 2, 0, 2, 0, 2, 0, 0, 2, 0, 0, 0, 0, 0, 2, 2, 2, 0, 0, 0, 0, 0, 2, 0, 0, 0, 2, 0, 2, 0, 0, 0, 0, 2, 0, 2, 0, 2, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 2, 2, 0, 2, 2, 0, 0, 0, 0, 0, 2, 0, 0, 2, 0, 0, 2, 0, 0, 0, 0, 0, 2, 2, 0, 0, 2, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 0, 2, 2, 2, 0, 0, 2, 0, 2, 2, 0, 0, 0, 2, 0, 0, 2, 2, 0, 0, 2, 0, 0, 0, 0, 0, 2, 0, 2, 2, 0, 1, 0, 0, 0, 2, 0, 0, 0, 0, 0, 2, 1, 2, 2, 0, 0, 1, 0, 0, 0, 2, 0, 2, 0, 0, 0, 0, 0, 0, 0, 2, 2, 0, 0, 2, 0, 0, 0, 2, 0, 2, 2, 2, 0, 0, 0, 2, 0, 2, 2, 1, 2, 2, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 2, 2, 0, 0, 2, 2, 2, 2, 0, 0, 2, 2, 2, 2, 2, 2, 2, 2, 0, 0, 0, 2, 2, 2, 0, 0, 0, 0, 0, 0, 2, 0, 2, 0, 2, 0, 2, 0, 1, 0, 0, 0, 0, 0, 2, 0, 0, 0, 2, 0, 0, 2, 0, 0, 0, 2, 2, 0, 2, 0, 0, 0, 0, 0, 2, 0, 2, 0, 0, 2, 0, 0, 0, 0, 2, 0, 0, 2, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 2, 0, 0, 0, 2, 2, 0, 0, 1, 0, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 2, 0, 0, 0, 0, 0, 0, 2, 2, 2, 0, 0, 0, 0, 2, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 2, 0, 0, 2, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 2, 2, 0, 0, 2, 0, 2, 2, 0, 2, 0, 0, 0, 0, 0, 0, 0, 2, 0, 2, 2, 0, 0, 0, 2, 0, 2, 0, 0, 0, 2, 0, 0, 2, 0, 0, 2, 2, 0, 2, 2, 0, 0, 2, 2, 2, 0, 2, 0, 0, 2, 0, 0, 0, 0, 2, 0, 0, 2, 2, 0, 0, 2, 2, 0, 2, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 2, 2, 0, 0, 0, 0, 2, 2, 0, 0, 2, 2, 2, 0, 0, 2, 0, 0, 0, 0, 0, 2, 2, 2, 0, 0, 2, 0], [1, 2, 1, 2, 2, 2, 0, 1, 0, 2, 1, 1, 1, 1, 2, 0, 0, 2, 1, 1, 2, 2, 1, 2, 1, 2, 1, 1, 1, 1, 2, 1, 2, 0, 2, 1, 1, 1, 1, 2, 2, 1, 1, 2, 1, 1, 0, 1, 2, 0, 2, 0, 1, 2, 1, 1, 1, 2, 1, 2, 1, 1, 0, 2, 2, 1, 1, 2, 0, 1, 2, 1, 1, 2, 0, 1, 1, 1, 2, 0, 1, 0, 2, 0, 2, 1, 1, 1, 2, 0, 2, 1, 1, 1, 1, 2, 2, 1, 1, 1, 1, 2, 1, 0, 2, 0, 0, 2, 2, 2, 2, 1, 0, 1, 1, 0, 1, 2, 0, 2, 2, 2, 1, 2, 0, 1, 1, 1, 0, 1, 1, 2, 0, 1, 1, 2, 1, 2, 1, 2, 0, 1, 0, 1, 1, 1, 2, 1, 1, 1, 1, 2, 0, 1, 1, 0, 1, 2, 1, 1, 2, 1, 1, 1, 1, 1, 1, 0, 0, 2, 2, 1, 2, 1, 0, 1, 2, 1, 1, 2, 1, 2, 1, 0, 2, 1, 2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 1, 1, 1, 0, 2, 2, 1, 1, 2, 2, 0, 2, 0, 1, 0, 1, 2, 1, 1, 1, 1, 1, 2, 0, 1, 1, 1, 1, 2, 2, 1, 1, 2, 1, 2, 0, 1, 1, 2, 1, 2, 2, 0, 1, 1, 1, 0, 0, 1, 0, 1, 2, 1, 0, 1, 1, 1, 0, 0, 0, 1, 2, 1, 1, 1, 1, 1, 2, 2, 1, 2, 1, 1, 2, 1, 1, 0, 2, 1, 1, 2, 1, 2, 1, 1, 1, 0, 1, 1, 2, 1, 2, 2, 0, 1, 1, 2, 0, 0, 1, 0, 2, 2, 1, 1, 2, 1, 1, 1, 2, 2, 0, 1, 1, 2, 1, 0, 1, 1, 0, 2, 0, 2, 2, 1, 1, 1, 1, 2, 2, 1, 1, 1, 0, 1, 2, 1, 0, 1, 1, 2, 2, 2, 0, 1, 0, 1, 1, 2, 1, 2, 1, 1, 2, 1, 1, 2, 0, 2, 0, 1, 1, 2, 1, 2, 2, 1, 1, 1, 1, 1, 2, 1, 1, 2, 0, 2, 2, 1, 2, 1, 2, 2, 2, 0, 1, 2, 2, 1, 2, 1, 1, 2, 1, 2, 1, 1, 2, 1, 2, 1, 2, 0, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 2, 2, 2, 1, 1, 2, 1, 1, 0, 1, 2, 2, 2, 0, 2, 1, 2, 1, 2, 1, 1, 1, 0, 1, 2, 0, 1, 1, 0, 0, 1, 1, 1, 0, 0, 2, 0, 2, 1, 1, 1, 2, 1, 1, 0, 2, 1, 0, 0, 1, 2, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 2, 1, 1, 1, 1, 2, 2, 1, 2, 1, 0, 0, 1, 1, 2, 2, 0, 0, 2, 1, 0, 1, 1, 1, 1, 1, 1, 1, 2, 1, 2, 0, 0, 1, 1, 2, 0, 1]], [['NYT_ENG_20091017.0086', 'NYT_ENG_20091017.0086', 'CNA_ENG_20090730.0012', 'CNA_ENG_20090730.0012', 'CNA_ENG_20090730.0012', 'NYT_ENG_20091221.0086', 'NYT_ENG_20091221.0086', 'NYT_ENG_20091221.0086', 'NYT_ENG_20091221.0086', 'NYT_ENG_20091221.0086', 'NYT_ENG_20091221.0086', 'CNA_ENG_20091217.0036', 'CNA_ENG_20100912.0007', 'NYT_ENG_20091019.0171', 'NYT_ENG_20091019.0171', 'NYT_ENG_20091019.0171', 'NYT_ENG_20091019.0171', 'AFP_ENG_20091022.0215', 'AFP_ENG_20091022.0215', 'APW_ENG_20100612.0768', 'APW_ENG_20100612.0768', 'APW_ENG_20100612.0768', 'APW_ENG_20100612.0768', 'AFP_ENG_20100624.0127', 'AFP_ENG_20100624.0127', 'NYT_ENG_20100830.0161', 'NYT_ENG_20101105.0102', 'XIN_ENG_20100227.0088', 'XIN_ENG_20100227.0088', 'XIN_ENG_20100227.0088', 'AFP_ENG_20091102.0335', 'NYT_ENG_20100202.0102', 'NYT_ENG_20100202.0102', 'AFP_ENG_20100322.0024', 'APW_ENG_20090805.0854', 'NYT_ENG_20101028.0209', 'NYT_ENG_20100624.0049', 'NYT_ENG_20100624.0049', 'NYT_ENG_20100314.0130', 'APW_ENG_20090804.0021', 'AFP_ENG_20101127.0312', 'APW_ENG_20101104.0351', 'APW_ENG_20101104.0351', 'APW_ENG_20101104.0351', 'APW_ENG_20101104.0351', 'AFP_ENG_20090911.0694', 'AFP_ENG_20090911.0694', 'AFP_ENG_20090911.0694', 'AFP_ENG_20090911.0694', 'APW_ENG_20090914.0806', 'APW_ENG_20090914.0806', 'APW_ENG_20090914.0806', 'APW_ENG_20090914.0806', 'NYT_ENG_20101216.0023', 'APW_ENG_20090623.1313', 'APW_ENG_20101117.0994', 'NYT_ENG_20090830.0055', 'NYT_ENG_20101024.0152', 'AFP_ENG_20090705.0009', 'AFP_ENG_20100128.0429', 'APW_ENG_20100123.0461', 'APW_ENG_20100521.0662', 'NYT_ENG_20100216.0080', 'NYT_ENG_20100216.0080', 'NYT_ENG_20100216.0080', 'NYT_ENG_20100216.0080', 'NYT_ENG_20100216.0080', 'APW_ENG_20101021.0776', 'APW_ENG_20101021.0776', 'APW_ENG_20101021.0776', 'APW_ENG_20101021.0776', 'NYT_ENG_20100121.0191', 'NYT_ENG_20100121.0191', 'XIN_ENG_20101213.0128', 'XIN_ENG_20101213.0128', 'XIN_ENG_20101213.0128', 'XIN_ENG_20101213.0128', 'APW_ENG_20100517.0518', 'APW_ENG_20101111.0052', 'APW_ENG_20101111.0052', 'APW_ENG_20101124.0510', 'APW_ENG_20100119.1093', 'APW_ENG_20090531.0209', 'NYT_ENG_20101208.0080', 'APW_ENG_20100203.0881', 'APW_ENG_20100915.0782', 'APW_ENG_20100119.0928', 'APW_ENG_20100119.0928', 'APW_ENG_20100119.0928', 'APW_ENG_20090707.1069'], [2, 2, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 2, 2, 0, 0, 0, 2, 0, 2, 0, 0, 0, 2, 0, 0, 0, 0, 2, 2, 2, 0, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 0, 2, 2, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 2, 0, 0, 0, 0, 2, 0, 0, 0, 0, 0, 0, 2, 2, 0, 0, 0, 2], [1, 0, 1, 1, 1, 1, 2, 1, 1, 2, 1, 2, 2, 1, 1, 0, 1, 2, 2, 1, 1, 1, 0, 2, 2, 2, 0, 1, 1, 1, 2, 0, 0, 0, 2, 0, 1, 1, 1, 1, 2, 1, 1, 2, 2, 1, 1, 2, 1, 2, 1, 1, 1, 2, 2, 1, 0, 1, 2, 0, 1, 0, 1, 2, 1, 2, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 1, 0, 2, 1, 2, 1, 1, 2, 0, 0, 2, 2, 2, 0]]]
wrong_trains = wrong_docs[0]
wrong_devs = wrong_docs[1]
train_pred_labels = [0, 0, 0]
train_actu_labels = [0, 0, 0]
dev_pred_labels = [0, 0, 0]
dev_actu_labels = [0, 0, 0]
train_label_breakdown = [[0, 0, 0], [0, 0, 0], [0, 0, 0]]
dev_label_breakdown = [[0, 0, 0], [0, 0, 0], [0, 0, 0]]

wrong_train_docs = {}
wrong_dev_docs = {}

total_trains = {}
total_devs = {}

with open("./data/new_annot/trainsplit_holdtarg/train.json", "r") as rf:
    for line in rf:
        annot = json.loads(line)
        if annot["docid"] not in total_trains:
            total_trains[annot["docid"]] = []
        total_trains[annot["docid"]].append(annot["label"])

with open("./data/new_annot/trainsplit_holdtarg/dev.json", "r") as rf:
    for line in rf:
        annot = json.loads(line)
        if annot["docid"] not in total_devs:
            total_devs[annot["docid"]] = []
        total_devs[annot["docid"]].append(annot["label"])

train_wrongs = len(wrong_train_docs)
for docid in total_trains:
    if docid not in wrong_train_docs:
        wrong_train_docs[docid] = {"pred labels": total_trains[docid],
                                 "actual labels": total_trains[docid],
                                 "wrongs": 0, "total": len(total_trains[docid])}
    wrong_train_docs[docid]["actual labels 2"] = total_trains[docid]

num_all_sameT = 0
num_pred_all_sameT = 0
num_singlesT = 0
singles_pred_labelsT = [[0, 0, 0], [0, 0, 0], [0, 0, 0]]
singles_labelsT = [0, 0, 0]
for docs in wrong_train_docs:
    doc_pred_label = wrong_train_docs[docs]["pred labels"][0]
    doc_label = wrong_train_docs[docs]["actual labels"][0]
    pred_all_same = True
    actual_all_same = True
    for pred_label in wrong_train_docs[docs]["pred labels"]:
        if (pred_label != doc_pred_label):
            pred_all_same = False
    for actual_label in wrong_train_docs[docs]["actual labels 2"]:
       if (actual_label != doc_label):
            actual_all_same = False
    if pred_all_same and len(wrong_train_docs[docs]["pred labels"]) > 1:
        num_pred_all_sameT += 1
    if actual_all_same and len(wrong_train_docs[docs]["pred labels"]) > 1:
        num_all_sameT += 1
    if len(wrong_train_docs[docs]["pred labels"]) == 1:
        num_singlesT += 1
        # Outer index = predicted, inner index = actual
        singles_pred_labelsT[wrong_train_docs[docs]["pred labels"][0]][wrong_train_docs[docs]["actual labels"][0]] += 1
        singles_labelsT[wrong_train_docs[docs]["actual labels"][0]] += 1

    train_label_breakdown[wrong_train_docs[docs]["pred labels"][0]][wrong_train_docs[docs]["actual labels"][0]] += 1

print(num_pred_all_sameT)
print(num_all_sameT)
print(num_singlesT)
print(len(total_trains) - num_singlesT)
print(singles_pred_labelsT)
print(singles_labelsT)

for i in range(0, len(wrong_trains[0])):
    docid = wrong_trains[0][i]
    if docid not in wrong_train_docs:
        wrong_train_docs[docid] = {"pred labels": [], "actual labels": [],
                                   "wrongs": 0, "total": len(total_trains[docid])}
    train_pred_labels[wrong_trains[1][i]] += 1
    train_actu_labels[wrong_trains[2][i]] += 1
    wrong_train_docs[wrong_trains[0][i]]["pred labels"].append(wrong_trains[1][i])
    wrong_train_docs[wrong_trains[0][i]]["actual labels"].append(wrong_trains[2][i])
    wrong_train_docs[wrong_trains[0][i]]["wrongs"] += 1

print("Trains: ")
print("    total docs   " + str(len(total_trains)))
print("    wrong annots " + str(len(wrong_trains[0])))
print("    wrong docs   " + str(len(wrong_train_docs)))
print("    % docs wrong " + str(len(wrong_train_docs) / len(total_trains)))
print("    # wrong annots/doc " + str(len(wrong_trains[0]) / len(wrong_train_docs)))
print("    pred labels  " + str(train_pred_labels))
print("    act labels   " + str(train_actu_labels))
print("    label breakd " + str(train_label_breakdown))


for i in range(0, len(wrong_devs[0])):
    docid = wrong_devs[0][i]
    if docid not in wrong_dev_docs:
        wrong_dev_docs[docid] = {"pred labels": [], "actual labels": [], "wrongs": 0, "total": len(total_devs[docid]),
                                 "actual labels 2": []}
    dev_pred_labels[wrong_devs[1][i]] += 1
    dev_actu_labels[wrong_devs[2][i]] += 1
    #dev_label_breakdown[wrong_devs[2][i]][wrong_devs[1][i]] += 1
    wrong_dev_docs[docid]["pred labels"].append(wrong_devs[1][i])
    wrong_dev_docs[docid]["actual labels"].append(wrong_devs[2][i])
    wrong_dev_docs[docid]["wrongs"] += 1

dev_wrongs = len(wrong_dev_docs)
for docid in total_devs:
    if docid not in wrong_dev_docs:
        wrong_dev_docs[docid] = {"pred labels": total_devs[docid],
                                 "actual labels": total_devs[docid],
                                 "wrongs": 0, "total": len(total_devs[docid])}
    wrong_dev_docs[docid]["actual labels 2"] = total_devs[docid]

num_all_same = 0
num_pred_all_same = 0
num_singles = 0
singles_pred_labels = [[0, 0, 0], [0, 0, 0], [0, 0, 0]]
singles_labels = [0, 0, 0]
for docs in wrong_dev_docs:
    doc_pred_label = wrong_dev_docs[docs]["pred labels"][0]
    doc_label = wrong_dev_docs[docs]["actual labels"][0]
    pred_all_same = True
    actual_all_same = True
    for pred_label in wrong_dev_docs[docs]["pred labels"]:
        if (pred_label != doc_pred_label):
            pred_all_same = False
    for actual_label in wrong_dev_docs[docs]["actual labels 2"]:
        if (actual_label != doc_label):
            actual_all_same = False
    if pred_all_same and len(wrong_dev_docs[docs]["pred labels"]) > 1:
        num_pred_all_same += 1
    if actual_all_same and len(wrong_dev_docs[docs]["pred labels"]) > 1:
        num_all_same += 1
    if len(wrong_dev_docs[docs]["pred labels"]) == 1:
        num_singles += 1
        # Outer index = predicted, inner index = actual
        singles_pred_labels[wrong_dev_docs[docs]["pred labels"][0]][wrong_dev_docs[docs]["actual labels"][0]] += 1
        singles_labels[wrong_dev_docs[docs]["actual labels"][0]] += 1

    dev_label_breakdown[wrong_dev_docs[docs]["pred labels"][0]][wrong_dev_docs[docs]["actual labels"][0]] += 1

print(num_pred_all_same)
print(num_all_same)
print(num_singles)
print(len(total_devs) - num_singles)
print(singles_pred_labels)
print(singles_labels)

print("Devs: ")
print("    total docs   " + str(len(total_devs)))
print("    wrong annots " + str(len(wrong_devs[0])))
print("    wrong docs   " + str(dev_wrongs))
print("    % docs wrong " + str(dev_wrongs / len(total_devs)))
print("    # wrong annots/doc " + str(len(wrong_devs[0]) / dev_wrongs))
print("    pred labels  " + str(dev_pred_labels))
print("    act labels   " + str(dev_actu_labels))
print("    label breakd " + str(dev_label_breakdown))

with open("./error_analysis/lr005.json", "w") as wf:
    #json.dump(wrong_train_docs, wf)
    #wf.write("\n")
    json.dump(wrong_dev_docs, wf)
'''